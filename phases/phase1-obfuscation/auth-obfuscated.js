// SecureBank Advanced Authentication System - Phase 1: Obfuscated
// WARNING: This is for educational purposes only - demonstrates advanced obfuscation techniques

(function(_0x4f2a8c, _0x2d1b9e) {
    const _0x5c3d7f = _0x1a2b;
    while (!![]) {
        try {
            const _0x8e9f1a = parseInt(_0x5c3d7f(0x1a3)) / 0x1 + -parseInt(_0x5c3d7f(0x1a4)) / 0x2 * (-parseInt(_0x5c3d7f(0x1a5)) / 0x3) + parseInt(_0x5c3d7f(0x1a6)) / 0x4 + parseInt(_0x5c3d7f(0x1a7)) / 0x5 * (parseInt(_0x5c3d7f(0x1a8)) / 0x6) + -parseInt(_0x5c3d7f(0x1a9)) / 0x7 + parseInt(_0x5c3d7f(0x1aa)) / 0x8 + parseInt(_0x5c3d7f(0x1ab)) / 0x9;
            if (_0x8e9f1a === _0x2d1b9e) break;
            else _0x4f2a8c['push'](_0x4f2a8c['shift']());
        } catch (_0x3b4c5d) {
            _0x4f2a8c['push'](_0x4f2a8c['shift']());
        }
    }
}(_0x7e8f, 0x89abc));

function _0x1a2b(_0x4d5e6f, _0x7a8b9c) {
    const _0x2c3d4e = _0x7e8f();
    return _0x1a2b = function(_0x5f6a7b, _0x8c9d0e) {
        _0x5f6a7b = _0x5f6a7b - 0x1a3;
        let _0x1f2a3b = _0x2c3d4e[_0x5f6a7b];
        return _0x1f2a3b;
    }, _0x1a2b(_0x4d5e6f, _0x7a8b9c);
}

function _0x7e8f() {
    const _0x4c5d6e = ['YWRtaW4=', 'cGFzc3dvcmQxMjM=', 'dXNlcg==', 'bXlzZWNyZXQ=', 'authenticated', 'username', 'role', 'admin', 'user', 'secure_user', 'password123', 'mysecret', 'hello123', 'loginForm', 'getElementById', 'addEventListener', 'submit', 'preventDefault', 'value', 'trim', 'style', 'display', 'none', 'disabled', 'textContent', 'inline-block', 'block', 'sessionStorage', 'setItem', 'getItem', 'clear', 'querySelector', 'dashboard', 'login-box', 'errorMessage', 'successMessage', 'btnText', 'spinner', 'showDashboard', 'validateCredentials', 'simulateNetworkDelay', 'generateHash', 'SHA256', 'toString', 'CryptoJS', 'atob', 'replace', 'fromCharCode', 'charCodeAt', 'length', 'random', 'setTimeout', 'Promise', 'resolve', 'console', 'log', 'alert', 'firebug', 'table', 'test', 'setInterval'];
    _0x7e8f = function() {
        return _0x4c5d6e;
    };
    return _0x7e8f();
}

// Obfuscated credential storage with multiple layers
const _0x9f8e7d = [_0x1a2b(0x1ac), _0x1a2b(0x1ad), _0x1a2b(0x1ae), _0x1a2b(0x1af)];
const _0x6c5b4a = {
    'primary': window[_0x1a2b(0x1b0)](_0x9f8e7d[0x0]),
    'secondary': window[_0x1a2b(0x1b0)](_0x9f8e7d[0x2])
};

// Fake validation functions (decoys)
function _0x3e2d1c(_0x7f6e5d, _0x8a9b0c) {
    // Fake validation - always returns false
    const _0x4b3a29 = ['fake_admin', 'fake_password'];
    return _0x7f6e5d === _0x4b3a29[0x0] && _0x8a9b0c === _0x4b3a29[0x1];
}

function _0x5d4c3b(_0x2e1f0a, _0x9c8b7a) {
    // Another fake validation
    if (_0x2e1f0a[_0x1a2b(0x1b1)] > 0x5 && _0x9c8b7a[_0x1a2b(0x1b1)] > 0x8) {
        return Math[_0x1a2b(0x1b2)]() > 0.5;
    }
    return ![];
}

// Dead code branches
if (Math[_0x1a2b(0x1b2)]() < 0.001) {
    const _0x7a6b5c = 'never_executed';
    console[_0x1a2b(0x1b3)](_0x7a6b5c);
}

// ROT13 decoder with obfuscated implementation
function _0x8d7c6b(_0x1e2f3a) {
    return _0x1e2f3a[_0x1a2b(0x1b4)](/[a-zA-Z]/g, function(_0x4f5e6d) {
        return String[_0x1a2b(0x1b5)]((_0x4f5e6d <= 'Z' ? 0x5a : 0x7a) >= (_0x4f5e6d = _0x4f5e6d[_0x1a2b(0x1b6)](0x0) + 0xd) ? _0x4f5e6d : _0x4f5e6d - 0x1a);
    });
}

// Hidden validation keys with control flow flattening
const _0x2b1a9c = {};
_0x2b1a9c['k1'] = _0x8d7c6b('cnffjbeq123');
_0x2b1a9c['k2'] = _0x8d7c6b('zlfrperg');
_0x2b1a9c['k3'] = _0x8d7c6b('uryyb123');

// Network delay simulation with obfuscated timing
function _0x4e3d2c() {
    const _0x7c6b5a = Math[_0x1a2b(0x1b2)]() * 0x7d0 + 0x3e8;
    return new Promise(_0x9f8e7d => window[_0x1a2b(0x1b7)](_0x9f8e7d, _0x7c6b5a));
}

// Hash generation with multiple algorithms
function _0x6f5e4d(_0x3c2b1a) {
    if (typeof window['CryptoJS'] !== 'undefined') {
        return window['CryptoJS'][_0x1a2b(0x1b8)](_0x3c2b1a)[_0x1a2b(0x1b9)]();
    }
    // Fallback hash function (weak)
    let _0x8a7b6c = 0x0;
    for (let _0x5d4c3b = 0x0; _0x5d4c3b < _0x3c2b1a[_0x1a2b(0x1b1)]; _0x5d4c3b++) {
        _0x8a7b6c = (_0x8a7b6c << 0x5) - _0x8a7b6c + _0x3c2b1a[_0x1a2b(0x1b6)](_0x5d4c3b);
        _0x8a7b6c = _0x8a7b6c & _0x8a7b6c;
    }
    return _0x8a7b6c[_0x1a2b(0x1b9)](0x10);
}

// Main validation function with control flow obfuscation
function _0x7b6a59(_0x4e3d2c, _0x9c8b7a) {
    const _0x1f0e9d = [_0x6c5b4a['primary'], _0x6c5b4a['secondary']];
    const _0x8a7b6c = [window[_0x1a2b(0x1b0)](_0x9f8e7d[0x1]), window[_0x1a2b(0x1b0)](_0x9f8e7d[0x3])];
    
    // Control flow flattening
    let _0x5c4b3a = 0x0;
    while (!![]) {
        switch (_0x5c4b3a) {
            case 0x0:
                if (_0x4e3d2c === _0x1f0e9d[0x0] && _0x9c8b7a === _0x8a7b6c[0x0]) {
                    return {
                        'valid': !![],
                        'role': _0x1a2b(0x1ba),
                        'message': 'Administrator access granted'
                    };
                }
                _0x5c4b3a = 0x1;
                break;
            case 0x1:
                if (_0x4e3d2c === _0x1f0e9d[0x1] && _0x9c8b7a === _0x8a7b6c[0x1]) {
                    return {
                        'valid': !![],
                        'role': _0x1a2b(0x1bb),
                        'message': 'User access granted'
                    };
                }
                _0x5c4b3a = 0x2;
                break;
            case 0x2:
                if (_0x4e3d2c === _0x1a2b(0x1ba) && _0x9c8b7a === _0x2b1a9c['k1']) {
                    return {
                        'valid': !![],
                        'role': _0x1a2b(0x1ba),
                        'message': 'Hidden admin access'
                    };
                }
                _0x5c4b3a = 0x3;
                break;
            case 0x3:
                const _0x7e6d5c = '0b14d501a594442a01c6859541bcb3e8164d183d32937b851835442f69d5c94e';
                if (_0x4e3d2c === _0x1a2b(0x1bc) && _0x6f5e4d(_0x9c8b7a) === _0x7e6d5c) {
                    return {
                        'valid': !![],
                        'role': 'secure',
                        'message': 'Secure hash validation passed'
                    };
                }
                _0x5c4b3a = 0x4;
                break;
            case 0x4:
                return {
                    'valid': ![],
                    'message': 'Invalid credentials'
                };
        }
    }
}

// DOM manipulation with obfuscated selectors
const _0x3f2e1d = document[_0x1a2b(0x1bd)](_0x1a2b(0x1be));
const _0x8c7b6a = document[_0x1a2b(0x1bd)](_0x1a2b(0x1bf));
const _0x5d4c3b = document[_0x1a2b(0x1bd)]('password');
const _0x9e8f7a = document[_0x1a2b(0x1bd)]('loginBtn');
const _0x2a1b0c = document[_0x1a2b(0x1bd)](_0x1a2b(0x1c0));
const _0x7f6e5d = document[_0x1a2b(0x1bd)](_0x1a2b(0x1c1));
const _0x4b3a29 = document[_0x1a2b(0x1bd)](_0x1a2b(0x1c2));
const _0x6c5b4a = document[_0x1a2b(0x1bd)](_0x1a2b(0x1c3));
const _0x1e2f3a = document[_0x1a2b(0x1bd)](_0x1a2b(0x1c4));
const _0x8d7c6b = document[_0x1a2b(0x1bd)]('logoutBtn');

// Event listener with obfuscated logic
_0x3f2e1d[_0x1a2b(0x1c5)](_0x1a2b(0x1c6), async function(_0x7a6b5c) {
    _0x7a6b5c[_0x1a2b(0x1c7)]();
    
    const _0x4f5e6d = _0x8c7b6a[_0x1a2b(0x1c8)][_0x1a2b(0x1c9)]();
    const _0x9c8b7a = _0x5d4c3b[_0x1a2b(0x1c8)];
    
    _0x4b3a29[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cc);
    _0x6c5b4a[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cc);
    
    _0x9e8f7a[_0x1a2b(0x1cd)] = !![];
    _0x2a1b0c[_0x1a2b(0x1ce)] = 'Signing In...';
    _0x7f6e5d[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cf);
    
    try {
        await _0x4e3d2c();
        const _0x1f0e9d = _0x7b6a59(_0x4f5e6d, _0x9c8b7a);
        
        if (_0x1f0e9d['valid']) {
            _0x6c5b4a[_0x1a2b(0x1ce)] = _0x1f0e9d['message'];
            _0x6c5b4a[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1d0);
            
            window[_0x1a2b(0x1d1)][_0x1a2b(0x1d2)](_0x1a2b(0x1d3), 'true');
            window[_0x1a2b(0x1d1)][_0x1a2b(0x1d2)](_0x1a2b(0x1bf), _0x4f5e6d);
            window[_0x1a2b(0x1d1)][_0x1a2b(0x1d2)](_0x1a2b(0x1d4), _0x1f0e9d[_0x1a2b(0x1d4)]);
            
            window[_0x1a2b(0x1b7)](function() {
                _0x5a4b39();
            }, 0x5dc);
        } else {
            _0x4b3a29[_0x1a2b(0x1ce)] = _0x1f0e9d['message'];
            _0x4b3a29[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1d0);
        }
    } catch (_0x8e7f6a) {
        _0x4b3a29[_0x1a2b(0x1ce)] = 'An error occurred. Please try again.';
        _0x4b3a29[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1d0);
    } finally {
        _0x9e8f7a[_0x1a2b(0x1cd)] = ![];
        _0x2a1b0c[_0x1a2b(0x1ce)] = 'Sign In';
        _0x7f6e5d[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cc);
    }
});

// Dashboard display function
function _0x5a4b39() {
    document[_0x1a2b(0x1d5)]('.login-box')[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cc);
    _0x1e2f3a[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1d0);
}

// Logout functionality
_0x8d7c6b[_0x1a2b(0x1c5)]('click', function() {
    window[_0x1a2b(0x1d1)][_0x1a2b(0x1d6)]();
    _0x1e2f3a[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cc);
    document[_0x1a2b(0x1d5)](_0x1a2b(0x1d7))[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1d0);
    
    _0x8c7b6a[_0x1a2b(0x1c8)] = '';
    _0x5d4c3b[_0x1a2b(0x1c8)] = '';
    _0x4b3a29[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cc);
    _0x6c5b4a[_0x1a2b(0x1ca)][_0x1a2b(0x1cb)] = _0x1a2b(0x1cc);
});

// Authentication check on load
window[_0x1a2b(0x1c5)]('load', function() {
    if (window[_0x1a2b(0x1d1)][_0x1a2b(0x1d8)](_0x1a2b(0x1d3)) === 'true') {
        _0x5a4b39();
    }
});

// Anti-debugging with obfuscated detection
window[_0x1a2b(0x1d9)](function() {
    const _0x3e2d1c = window[_0x1a2b(0x1da)];
    if (_0x3e2d1c && (_0x3e2d1c[_0x1a2b(0x1db)] || _0x3e2d1c[_0x1a2b(0x1dc)] && /firebug/i[_0x1a2b(0x1dd)](_0x3e2d1c[_0x1a2b(0x1dc)]()))) {
        window[_0x1a2b(0x1de)]('Developer tools detected!');
    }
}, 0x3e8);
